{% extends 'base.html' %}
{% block content %}
    <div class="row">
        <!-- Main Content for Archive Page -->
        <main class="col-md-10 ms-sm-auto col-lg-10 px-md-4">
            <h1>Archives</h1>
            <div id="archivedItems"></div>
            <script>
              // Retrieve archived card IDs from local storage
              var archivedCards = JSON.parse(localStorage.getItem("archivedCards")) || [];
      
              // Display archived cards on the archive page
              var archiveContainer = document.getElementById("archiveContainer");
              archivedCards.forEach(function(cardId) {
                  var archivedCard = document.createElement("div");
                  archivedCard.textContent = "Archived card with ID: " + cardId;
      
                  // Create undo button
                  var undoButton = document.createElement("button");
                  undoButton.textContent = "Undo";
                  undoButton.addEventListener("click", function() {
                      // Restore card to its original position
                      var card = document.getElementById(cardId);
                      if (card) {
                          document.body.appendChild(card); // Append to body or another container
                      }
      
                      // Remove card ID from archivedCards array
                      var index = archivedCards.indexOf(cardId);
                      if (index !== -1) {
                          archivedCards.splice(index, 1);
                          localStorage.setItem("archivedCards", JSON.stringify(archivedCards));
                      }
      
                      // Remove archived card from the archive page
                      archivedCard.remove();
                  });
      
                  // Append archived card and undo button to the archive container
                  archiveContainer.appendChild(archivedCard);
                  archiveContainer.appendChild(undoButton);
              });
          </script>
        </main>
    </div>
{% endblock %}